"use strict";(self.webpackChunkrent360=self.webpackChunkrent360||[]).push([[855],{4855:(y,p,o)=>{o.r(p),o.d(p,{AuthModule:()=>x});var u=o(4466),l=o(3128),i=o(4006),m=o(3900),t=o(8256),d=o(263),g=o(7338),c=o(6895),h=o(9219);function f(e,s){if(1&e&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(n.error)}}const C=[{path:"",component:(()=>{class e{constructor(n,a,r,b){this.fb=n,this.auth=a,this.router=r,this.settings=b,this.error="",this.form=this.fb.group({email:["owner@rent360.com",[i.kI.required,i.kI.email]],password:["password",i.kI.required]})}ngOnInit(){this.auth.snapshotUser&&this.router.navigate(["/dashboard"],{replaceUrl:!0})}submit(){if(this.error="",this.form.invalid)return;const n=String(this.form.value.email??""),a=String(this.form.value.password??"");this.auth.login(n,a).pipe((0,m.w)(r=>(this.settings.updateSettings({fullName:r.fullName,email:r.email,mobileNumber:r.mobileNumber,address:r.address,currency:r.currency}),this.settings.loadForUser(r.email)))).subscribe({next:()=>{this.router.navigate(["/dashboard"],{replaceUrl:!0})},error:r=>{this.error=r.message||"Login failed"}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(i.qu),t.Y36(d.e),t.Y36(l.F0),t.Y36(g.s))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:20,vars:2,consts:[[1,"auth-shell"],[1,"hint"],[1,"form-grid",3,"formGroup","ngSubmit"],["formControlName","email","type","email"],["formControlName","password","type","password"],["class","error",4,"ngIf"],["type","submit",1,"btn"],["routerLink","/login/register"],[1,"error"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"r360-card")(2,"h2"),t._uU(3,"Sign In"),t.qZA(),t.TgZ(4,"p",1),t._uU(5,"Use owner@rent360.com / password"),t.qZA(),t.TgZ(6,"form",2),t.NdJ("ngSubmit",function(){return a.submit()}),t.TgZ(7,"label"),t._uU(8,"Email"),t._UZ(9,"input",3),t.qZA(),t.TgZ(10,"label"),t._uU(11,"Password"),t._UZ(12,"input",4),t.qZA(),t.YNc(13,f,2,1,"div",5),t.TgZ(14,"button",6),t._uU(15,"Login"),t.qZA()(),t.TgZ(16,"p",1),t._uU(17,"New user? "),t.TgZ(18,"a",7),t._uU(19,"Create account"),t.qZA()()()()),2&n&&(t.xp6(6),t.Q6J("formGroup",a.form),t.xp6(7),t.Q6J("ngIf",a.error))},dependencies:[c.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,h.A,l.yS],styles:[".auth-shell[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;padding:20px}r360-card[_ngcontent-%COMP%]{width:min(420px,100%);display:block}h2[_ngcontent-%COMP%]{margin:0 0 4px;font-size:32px}.hint[_ngcontent-%COMP%]{color:var(--muted)}.form-grid[_ngcontent-%COMP%]{display:grid;gap:12px;margin-top:16px}label[_ngcontent-%COMP%]{display:grid;gap:6px;font-size:14px}input[_ngcontent-%COMP%]{height:42px;border:1px solid var(--border);border-radius:10px;padding:0 10px}.btn[_ngcontent-%COMP%]{height:42px;border:none;border-radius:10px;background:#2388e8;color:#fff;font-weight:600}.error[_ngcontent-%COMP%]{color:#d1425d;font-size:13px}"]}),e})()},{path:"register",component:(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],decls:2,vars:0,consts:[[1,"placeholder"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._uU(1,"Register page scaffold"),t.qZA())},styles:[".placeholder[_ngcontent-%COMP%]{padding:24px;font-size:18px}"]}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(C),l.Bz]}),e})(),x=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.m,v]}),e})()}}]);